<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h4><a href="https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-on-ubuntu-12-04-lts-precise-pangolin-with-rvm">Install Rails</a></h4>
    <pre>
    $sudo apt-get update
    $sudo apt-get install curl
    $\curl -L https://get.rvm.io | bash -s stable
    $source ~/.rvm/scripts/rvm
    $rvm requirements
    $rvm install ruby
    $rvm use ruby --default
    $rvm rubygems current
    $gem install rails

    $sudo apt-get install -y nodejs
    $sudo apt-get install mysql-server

    <a href="https://www.howtoforge.com/tutorial/ruby-on-rails-ror-with-postgresql-on-ubuntu-16-04/">https://www.howtoforge.com/tutorial/ruby-on-rails-ror-with-postgresql-on-ubuntu-16-04/</a>

    </pre>

    <h4>run rails project</h4>
    <pre>
        $bundle install
         #if error $bundle update && bundle install
        $rails db:create
        $rails db:migrate
        $rails s
    </pre>

    <h3>Rails issiue</h3>
        <h4>Access denied for user 'root'@'localhost'</h4>
        <p>https://qiita.com/Ushinji/items/1bd4b7f1cad87e717ac2</p>

        <h4>tack level too deep (SystemStackError)</h4>
        <p>gem 'rails', github: 'rails/rails', branch: '4-2-stable'</p>

        <h4>No connection pool for ActiveRecord::Base</h4>
        <p>gem 'sqlite3', '~> 1.3.6'</p>
        <p>$bundle update</p>

        <h4>bundler downgrade</h4>
        <p>$gem install bundler --version '< 2.0.0'</p>
        
        <h4>remove mysql</h4>
        <p>
            $sudo apt-get remove --purge mysql-server mysql-client mysql-common
            $sudo apt-get autoremove
            $sudo apt-get autoclean
            $sudo rm -rf /var/lib/mysql
            $sudo rm -rf /etc/mysql
        </p>

        <h4>installed mysql-server-5.7 package post-installation script subprocess returned error exit status 127</h4>
        <p>
            $sudo apt-get clean
            $sudo apt-get purge mysql*
            $sudo apt-get update
            $sudo apt-get install -f
            $sudo apt-get install mysql-server-5.7
            $sudo apt-get dist-upgrade
        </p>
        
        <h4>An error occurred while installing sqlite3 (1.4.1), and Bundler cannot continue.</h4>
        <p>gem 'sqlite3', '1.3.13'</p>

        <h4>ExecJS::ProgramError in Welcome#index</h4>
        <p>application.html.erb -> default.html.erb</p>

        <h4>You have already activated activesupport 4.2.0, but your Gemfile requires activesupport 4.2.11.1.</h4>
        <p>gem install activesupport -v'4.2.11.1'</p>

        <h4>NoMethodError: undefined method `halt_callback_chains_on_return_false=' for ActiveSupport:Module</h4>
        <p>config/initializers/new_framework_defaults.rbの中のhalt_callback_chains_on_return_falseの行をコメントアウトした。</p>'
        
        <h4>rails fe_sendauth no password supplied</h4>
        <p>In config/database.yml, under default: &default, add:<br><br>

            host: localhost
            username: postgres
            password: (the password you created during postgresql installation goes here)
            port: 5432
        </p>

        <h4>StandardError: Directly inheriting from ActiveRecord::Migration is not supported.</h4>
        <p>ActiveRecord::Migration[5.1]</p>
        
        <h4>ActiveRecord::PendingMigrationError</h4>
        <pre>
            $rake db:reset
            $rake db:migrate
        </pre>

        <h4>An error occurred while installing bootsnap (1.4.4)</h4>
        <p>gem 'bootsnap', '<= 1.1.0'</p>

        <h4>cannot load such file -- sqlite3/sqlite3_native (LoadError)</h4>
        <p>gem 'sqlite3', git: "https://github.com/sparklemotion/sqlite3-ruby"</p>

        <h4>Errno::EACCES in Pages#index</h4>
        <p>tmp/cache/assets以下を全削除することでキャッシュをクリアして再度試してみるといいかもしれません。</p>

        <h4>Resolving Dependcies</h4>
        <p>gem files</p>
        <pre>
            source 'https://rubygems.org'
ruby "2.6.3" # specify ruby version

# for authentication
gem 'devise'
# for Twitter UI components inc. navbar
gem 'bootstrap-sass', '~> 3.3.5'
# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'
gem 'rails'
# Use pg for heroku database.
gem 'pg'
# Heroku pre-req
gem 'rails_12factor', group: :production # don't use locally, only on heroku
# Use SCSS for stylesheets
gem 'sass-rails', '~> 5.0'
# Use Uglifier as compressor for JavaScript assets
gem 'uglifier', '>= 1.3.0'
# Use CoffeeScript for .coffee assets and views
gem 'coffee-rails', '~> 4.1.0'
# See https://github.com/rails/execjs#readme for more supported runtimes
# gem 'therubyracer', platforms: :ruby

# Use jquery as the JavaScript library
gem 'jquery-rails'
# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks
gem 'turbolinks'
# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder
gem 'jbuilder', '~> 2.0'
# bundle exec rake doc:rails generates the API under doc/api.
gem 'sdoc', '~> 0.4.0', group: :doc

gem 'tzinfo-data'

gem 'sqlite3', git: "https://github.com/sparklemotion/sqlite3-ruby"

# Use ActiveModel has_secure_password
# gem 'bcrypt', '~> 3.1.7'

# Use Unicorn as the app server
# gem 'unicorn'

# Use Capistrano for deployment
# gem 'capistrano-rails', group: :development

group :development, :test do
  # Call 'byebug' anywhere in the code to stop execution and get a debugger console
  gem 'byebug'

  # Access an IRB console on exception pages or by using <%= console %> in views
  gem 'web-console', '~> 2.0'

  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring
  gem 'spring'
end


        </pre>
    
    <h4>Git undo</h4>
    <pre>
        $git log
        $git revert <commit hash>
    </pre>

    <h4>Rails command</h4>
    <pre>
        $rails generate scaffold product \title:string description:text image_url:string
    </pre>

    <h4>Detected sqlite3 gem which is not supported on Heroku:</h4>
    <pre>
    group :development, :test do

        gem 'sqlite3', git: "https://github.com/sparklemotion/sqlite3-ruby"
    end
    </pre>
</body>
</html>